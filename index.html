
<blockquote>
  <p>When you eat <span data-var="cookies" data-type="definition" data-min="0" data-max="100" data-format="%d cookies" class="TKAdjustableNumber"></span>, you consume <strong><span data-var="calories" data-type="definition" id="7a1f480f-2301-c49a-15ad-dd672b921116" data-format="%d calories" class="TKOutput"></span></strong>. That's <a data-var="daily_percent" data-type="reference" style="margin-right: 0.5ch" data-format="percent" class="TKOutput" href="#270841c7-0034-678f-3bab-b1ba0b78e3ed"></a>of your recommended daily calories.</p>
</blockquote>
<ul>
  <li><code>cookie</code> =<span data-var="cookie" data-type="definition" style="margin-left: 1ch" data-choices="chocolate_chip oatmeal_raisin ginger_snap" data-format="chocolate_chip cookie" class="TKSwitch"></span></li>
  <li><code>cookies</code> =<span data-var="cookies" data-type="reference" style="margin-left: 1ch" data-format="%d cookies" class="TKAdjustableNumber"></span></li>
  <li><code>calories_per_cookie</code> =<span data-var="calories_per_cookie" data-type="definition" style="margin-left: 1ch" data-min="10" data-max="100" data-step="5" data-format="%.0f calories" class="TKAdjustableNumber"></span></li>
  <li><code>calories</code> =<a data-var="calories" data-type="reference" style="margin-left: 1ch" data-format="%d calories" class="TKOutput" href="#7a1f480f-2301-c49a-15ad-dd672b921116"></a></li>
  <li><code>daily_calories</code> =<span data-var="calories_per_day" data-type="definition" style="margin-left: 1ch" data-min="0" data-max="10000" data-step="100" data-format="%d calories" class="TKAdjustableNumber"></span></li>
  <li><code>daily_percent</code> =<span data-var="daily_percent" data-type="definition" style="margin-left: 1ch" id="270841c7-0034-678f-3bab-b1ba0b78e3ed" data-format="percent" class="TKOutput"></span></li>
</ul>
<pre><script type="text/javascript" src="https://pagecdn.io/lib/mathjs/9.4.4/math.min.js"></script></pre>
<pre><script type="text/javascript" src="http://worrydream.com/Tangle/Tangle.js"></script></pre>
<pre><script type="text/javascript" src="http://worrydream.com/Tangle/TangleKit/TangleKit.js"></script></pre>
<pre><script type="text/javascript" src="http://worrydream.com/Tangle/TangleKit/sprintf.js"></script></pre>
<pre><script type="text/javascript" src="http://worrydream.com/Tangle/TangleKit/mootools.js"></script></pre>
<pre><script type="text/javascript" src="http://worrydream.com/Tangle/TangleKit/BVTouchable.js"></script></pre>
<pre><link href="http://worrydream.com/Tangle/TangleKit/TangleKit.css" type="text/css" rel="stylesheet"></pre>
<pre><style>
        .TKOutput { color: #4eabff; border-bottom: 1px dashed #4eabff;}
        .TKOutput:hover { background-color: #e3eef3;}
        .TKOutput:active { background-color: #4eabff; color: #fff; }
        a.TKOutput { text-decoration: none; }
        .TKAdjustableNumberHelp { color: #0dbe04!important }
        .TKAdjustableNumber { color: #0dbe04; border-bottom: 1px dashed #0dbe04 }
        .TKAdjustableNumber:hover { background-color: #e4ffed }
        .TKAdjustableNumber:active { background-color: #66c563; color: #fff; }
        
</style></pre>
<pre><script class="language-javascript">
      // setUpTangle();
      
      var tangle = new Tangle (document.body, {
        initialize: function () {
          this.cookies = 3;
          this.calories = 150;
          this.calories_per_cookie = 50;
          this.calories_per_day = 2000; 

          console.log({keys: Object.keys(this), values: Object.values(this)})
        },
        update: function () {
          var scope = {cookies: this.cookies, calories: this.calories, daily_percent: this.daily_percent, cookie: this.cookie, calories_per_cookie: this.calories_per_cookie, calories_per_day: this.calories_per_day}
        
          this.calories = math.evaluate("calories_per_cookie*cookies", scope);
          this.daily_percent = math.evaluate("calories/calories_per_day", scope);
          console.log({keys: Object.keys(this), values: Object.values(this)})
       }
      });
      
</script></pre>

